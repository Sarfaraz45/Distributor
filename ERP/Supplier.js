

//LoadRegion();
 
function CheckDataLength() {
    var field = document.getElementById("txtSupplierTitle").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtSupplierTitle');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');        
    }
    else {

        var text = document.getElementById('txtSupplierTitle');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtSupplierCode").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtSupplierCode');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtSupplierCode');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
        var field = document.getElementById("txtPhone").value;
    if (field == "" || field == null) {
            var text = document.getElementById('txtPhone');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

            var text = document.getElementById('txtPhone');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }



    var field = document.getElementById("txtFax").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtFax');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtFax');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtEmail").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtEmail');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtEmail');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtNTN").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtNTN');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtNTN');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtAddressLine1").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtAddressLine1');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtAddressLine1');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtAddressLine2").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtAddressLine2');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtAddressLine2');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtGST").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtGST');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtGST');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtSRB").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtSRB');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtSRB');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtOpBal").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtOpBal');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtOpBal');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank1Title").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank1Title');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank1Title');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank1Acc").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank1Acc');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank1Acc');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank1Name").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank1Name');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank1Name');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }


    var field = document.getElementById("txtBank2Title").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank2Title');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank2Title');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank2Acc").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank2Acc');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank2Acc');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank2Name").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank2Name');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank2Name');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank3Title").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank3Title');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank3Title');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank3Acc").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank3Acc');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank3Acc');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
    var field = document.getElementById("txtBank3Name").value;
    if (field == "" || field == null) {
        var text = document.getElementById('txtBank3Name');
        text.classList.remove('is-valid');
        text.classList.add('is-invalid');
    }
    else {

        var text = document.getElementById('txtBank3Name');
        text.classList.remove('is-invalid');
        text.classList.add('is-valid');

    }
}

function LoadSaveToastr() {
    Command: toastr["success"]("Supplier has been saved Successfully.")

    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": true,
        "progressBar": true,
        "positionClass": "toast-top-right",
        "preventDuplicates": true,
        "onclick": null,
        "showDuration": 300,
        "hideDuration": 100,
        "timeOut": 5000,
        "extendedTimeOut": 1000,
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
}

function LoadUpdateToastr() {
    Command: toastr["info"]("Supplier has been updated Successfully.")

    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": true,
        "progressBar": true,
        "positionClass": "toast-top-right",
        "preventDuplicates": true,
        "onclick": null,
        "showDuration": 300,
        "hideDuration": 100,
        "timeOut": 5000,
        "extendedTimeOut": 1000,
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
}

function LoadDeleteToastr() {
    Command: toastr["error"]("Supplier has been deleted Successfully.")

    toastr.options = {
        "closeButton": false,
        "debug": false,
        "newestOnTop": true,
        "progressBar": true,
        "positionClass": "toast-top-right",
        "preventDuplicates": true,
        "onclick": null,
        "showDuration": 300,
        "hideDuration": 100,
        "timeOut": 5000,
        "extendedTimeOut": 1000,
        "showEasing": "swing",
        "hideEasing": "linear",
        "showMethod": "fadeIn",
        "hideMethod": "fadeOut"
    }
}
       
$(document).ready(function () {
    $('#tablepaging').dataTable(
                {
                    responsive: true
                });

    $('.js-thead-colors a').on('click', function () {
        var theadColor = $(this).attr("data-bg");
        console.log(theadColor);
        $('#tablepaging thead').removeClassPrefix('bg-').addClass(theadColor);
    });

    $('.js-tbody-colors a').on('click', function () {
        var theadColor = $(this).attr("data-bg");
        console.log(theadColor);
        $('#tablepaging').removeClassPrefix('bg-').addClass(theadColor);
    });

});

LoadRegion();

function LoadRegion() {
    $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "Supplier.aspx/LoadRegion",
        dataType: "json",
        data: "{}",
        success: function (data) {
            var jsdata = JSON.parse(data.d);
            var ro = "";

            if ($('#tablepaging').length != 0) {

                $('#tablepaging').remove();
            }

            ro = "<table id='tablepaging' class='table table-sm  dataTable dtr-inline table-hover' style='cursor: pointer;' ><thead  class='thead-themed'><th>SupplierID</th> <th>SupplierTitle</th> <th>Phone</th>  </thead><tbody>";
            $.each(jsdata, function (key, value) {
                ro += "<tr><td   class='one'>" + value.SupplierID + "</td><td   class='two'>" + value.SupplierTitle + "</td><td  style='display:none;' class='three'>" + value.SupplierCode + "</td><td  class='four'>" + value.Phone + "</td><td  style='display:none;' class='five'>" + value.Fax + "</td><td  style='display:none;' class='six'>" + value.Email + "</td><td  style='display:none;'  class='seven'>" + value.AddressLine1 + "</td><td   style='display:none;' class='eight'>" + value.AddressLine2 + "</td><td    style='display:none;' class='nine'>" + value.NTN + "</td><td  style='display:none;' class='ten'>" + value.GST + "</td><td  class='eleven' style='display:none;'>" + value.SRB + "</td><td  class='twelve' style='display:none;'>" + value.OpBal + "</td><td  class='thirteen' style='display:none;'>" + value.Bank1Title + "</td><td  class='fourteen' style='display:none;'>" + value.Bank1AccountNo + "</td><td  class='fifteen' style='display:none;'>" + value.Bank1BankName + "</td><td  class='sixteen' style='display:none;'>" + value.Bank2Title + "</td><td  class='seventeen' style='display:none;'>" + value.Bank2AccountNo + "</td><td  class='eighteen' style='display:none;'>" + value.Bank2BankName + "</td><td  class='ninteen' style='display:none;'>" + value.Bank3Title + "</td><td  class='twenty' style='display:none;'>" + value.Bank3AccountNo + "</td><td  class='twentyone' style='display:none;'>" + value.Bank3BankName + "</td></tr>";

            });
            ro = ro + "</tbody></table>";

            $("#DivRegion").append(ro);
          


        },
        error: function (result) {
            alert(result);
        }


    });

};


function InsertRegion() {
    //alert("asd");
    var UserID = localStorage.getItem("UserID");
    var dataToSend = JSON.stringify({ 'SupplierTitle': $('#txtSupplierTitle').val(), 'SupplierCode': $('#txtSupplierCode').val(), 'Phone': $('#txtPhone').val(), 'Fax': $('#txtFax').val(), 'Email': $('#txtEmail').val(), 'AddressLine1': $('#txtAddressLine1').val(), 'AddressLine2': $('#txtAddressLine2').val(), 'NTN': $('#txtNTN').val(), 'GST': $('#txtGST').val(), 'SRB': $('#txtSRB').val(), 'opBal': $('#txtOpBal').val(), 'Bank1Title': $('#txtBank1Title').val(), 'Bank1AccountNo': $('#txtBank1Acc').val(), 'Bank1BankName': $('#txtBank1Name').val(), 'Bank2Title': $('#txtBank2Title').val(), 'Bank2AccountNo': $('#txtBank2Acc').val(), 'Bank2BankName': $('#txtBank2Name').val(), 'Bank3Title': $('#txtBank3Title').val(), 'Bank3AccountNo': $('#txtBank3Acc').val(), 'Bank3BankName': $('#txtBank3Name').val(), 'UserID': UserID });
   // alert(dataToSend);
    var results = $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "Supplier.aspx/InsertRegion",
        dataType: "json",
        data: dataToSend,
        //data: "{'RegionName':'" + $('#txtunittype').val() + "'}",                
        async: false,
        success: function (data) {
            var obj = data.d;
            if (obj == 'true') {
                LoadRegion();
                Clear();
                LoadSaveToastr();


            }

        },
        error: function (result) {
            alert(result);
        }
    });

    return results;

}












function UpdateRegion() {
    // alert("abc");
    //var UserID = localStorage.getItem("UserID");
    //alert($('#ContentPlaceHolder1_hdnid').val());
    var dataToSend = JSON.stringify({ 'SupplierID': document.getElementById("lblID").innerHTML, 'SupplierTitle': $('#txtSupplierTitle').val(), 'SupplierCode': $('#txtSupplierCode').val(), 'Phone': $('#txtPhone').val(), 'Fax': $('#txtFax').val(), 'Email': $('#txtEmail').val(), 'AddressLine1': $('#txtAddressLine1').val(), 'AddressLine2': $('#txtAddressLine2').val(), 'NTN': $('#txtNTN').val(), 'GST': $('#txtGST').val(), 'SRB': $('#txtSRB').val(), 'opBal': $('#txtOpBal').val(), 'Bank1Title': $('#txtBank1Title').val(), 'Bank1AccountNo': $('#txtBank1Acc').val(), 'Bank1BankName': $('#txtBank1Name').val(), 'Bank2Title': $('#txtBank2Title').val(), 'Bank2AccountNo': $('#txtBank2Acc').val(), 'Bank2BankName': $('#txtBank2Name').val(), 'Bank3Title': $('#txtBank3Title').val(), 'Bank3AccountNo': $('#txtBank3Acc').val(), 'Bank3BankName': $('#txtBank3Name').val() });
    //alert(dataToSend);
    var results = $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "Supplier.aspx/UpdateRegion",
        dataType: "json",
        data: dataToSend,
        async: false,
        success: function (data) {
            var obj = data.d;
            if (obj == 'true') {
                LoadRegion();
                Clear();
                LoadUpdateToastr();

            }

        },
        error: function (result) {
            alert(result);
        }
    });

    return results;

}

function DeleteRegion() {

//    var field = document.getElementById("txtSupplierTitle").value;
//    if (field == "" || field == null) {
//        
//        return false;
//    }

//    var field = document.getElementById("txtSupplierCode").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtPhone").value;
//    if (field == "" || field == null) {
//        return false;
//    }
//    var field = document.getElementById("txtFax").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtEmail").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtNTN").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtAddressLine1").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtAddressLine2").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtGST").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtSRB").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtOpBal").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank1Title").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank1Acc").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank1Name").value;
//    if (field == "" || field == null) {
//        return false;
//    }



//    var field = document.getElementById("txtBank2Title").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank2Acc").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank2Name").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank3Title").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank3Acc").value;
//    if (field == "" || field == null) {
//        return false;
//    }

//    var field = document.getElementById("txtBank3Name").value;
//    if (field == "" || field == null) {
//        return false;
//    }

    //  alert($('#ContentPlaceHolder1_hdnid').val());
    var UserID = localStorage.getItem("UserID");
    var dataToSend = JSON.stringify({ 'SupplierID': document.getElementById("lblID").innerHTML, 'UserID': UserID });
    var results = $.ajax({
        type: "POST",
        contentType: "application/json; charset=utf-8",
        url: "Supplier.aspx/DeleteRegion",
        dataType: "json",
        data: dataToSend,
        async: false,
        success: function (data) {
            var obj = data.d;

            if (obj == 'true') {

                LoadRegion();
                Clear();
                LoadDeleteToastr();
                CheckDataLength();

            }


        },
        error: function (result) {
            alert(result);
        }
    });

    return results;

}


function SaveData() {

    var field = document.getElementById("txtSupplierTitle").value;
    if (field == "" || field == null) {
        
        return false;
    }

    var field = document.getElementById("txtSupplierCode").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtPhone").value;
    if (field == "" || field == null) {
        return false;
    }
    var field = document.getElementById("txtFax").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtEmail").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtNTN").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtAddressLine1").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtAddressLine2").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtGST").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtSRB").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtOpBal").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank1Title").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank1Acc").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank1Name").value;
    if (field == "" || field == null) {
        return false;
    }



    var field = document.getElementById("txtBank2Title").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank2Acc").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank2Name").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank3Title").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank3Acc").value;
    if (field == "" || field == null) {
        return false;
    }

    var field = document.getElementById("txtBank3Name").value;
    if (field == "" || field == null) {
        return false;
    }

    if ($("#btnSave").text() == "Save") {

        InsertRegion();
        CheckDataLength();
    }
    else if ($("#btnSave").text() == "Update") {



        UpdateRegion();
        CheckDataLength();
    }
}


function Clear() {
    $('#ContentPlaceHolder1_hdnid').val('');
    $('#txtSupplierTitle').val('');
    $('#txtSupplierCode').val('');
    $('#txtPhone').val('');
    $('#txtFax').val('');
    $('#txtEmail').val('');
    $('#txtAddressLine1').val('');
    $('#txtAddressLine2').val('');
    $('#txtNTN').val('');
    $('#txtGST').val('');
    $('#txtSRB').val('');
    $('#txtOpBal').val('');
    $('#txtBank1Title').val('');
    $('#txtBank1Acc').val('');
    $('#txtBank1Name').val('');
    $('#txtBank2Title').val('');
    $('#txtBank2Acc').val('');
    $('#txtBank2Name').val('');
    $('#txtBank3Title').val('');
    $('#txtBank3Acc').val('');
    $('#txtBank3Name').val('');
    $("#btnSave").text("Save");
    CheckDataLength();
}

$("#tablepaging tbody tr").live('click', function () {
    // alert($(this).closest('tr').children('td.one').text());
    //    document.getElementById("<%=hdnid.ClientID%>").value = $(this).closest('tr').children('td.one').text();
    document.getElementById("lblID").innerHTML = $(this).closest('tr').children('td.one').text();
    document.getElementById("txtSupplierTitle").value = $(this).closest('tr').children('td.two').text();
    document.getElementById("txtSupplierCode").value = $(this).closest('tr').children('td.three').text();
    document.getElementById("txtPhone").value = $(this).closest('tr').children('td.four').text();
    document.getElementById("txtFax").value = $(this).closest('tr').children('td.five').text();
    document.getElementById("txtEmail").value = $(this).closest('tr').children('td.six').text();
    document.getElementById("txtAddressLine1").value = $(this).closest('tr').children('td.seven').text();
    document.getElementById("txtAddressLine2").value = $(this).closest('tr').children('td.eight').text();
  
    document.getElementById("txtNTN").value = $(this).closest('tr').children('td.nine').text();
    document.getElementById("txtGST").value = $(this).closest('tr').children('td.ten').text();
    document.getElementById("txtSRB").value = $(this).closest('tr').children('td.eleven').text();
    document.getElementById("txtOpBal").value = $(this).closest('tr').children('td.twelve').text();

    document.getElementById("txtBank1Title").value = $(this).closest('tr').children('td.thirteen').text();
    document.getElementById("txtBank1Acc").value = $(this).closest('tr').children('td.fourteen').text();
    document.getElementById("txtBank1Name").value = $(this).closest('tr').children('td.fifteen').text();
    document.getElementById("txtBank2Title").value = $(this).closest('tr').children('td.sixteen').text();
    document.getElementById("txtBank2Acc").value = $(this).closest('tr').children('td.seventeen').text();
    document.getElementById("txtBank2Name").value = $(this).closest('tr').children('td.eighteen').text();
    document.getElementById("txtBank3Title").value = $(this).closest('tr').children('td.ninteen').text();
    document.getElementById("txtBank3Acc").value = $(this).closest('tr').children('td.twenty').text();
    document.getElementById("txtBank3Name").value = $(this).closest('tr').children('td.twentyone').text();
    $("#btnSave").text("Update");
    CheckDataLength();

});